let hour,minute,second,year,month,day,currentDay,timeOffset="+00:00",timeFormat="12-hour";const hourDiv=document.querySelector("#--hour"),minuteDiv=document.querySelector("#--minute"),secondDiv=document.querySelector("#--second"),monthDayYearDiv=document.querySelector("._month-day-year"),currentDayDiv=document.querySelector("._current-day"),hourHand=document.querySelector(".hour-hand"),minuteHand=document.querySelector(".minute-hand"),secondHand=document.querySelector(".second-hand"),pmAm=document.querySelector("#--pm-am"),selectTimezone=document.querySelector(".__select-time select"),applyButton=document.querySelector(".__select-time button"),twelveHourFormat=document.querySelector("._time-format").children[0],twentyFourHourFormat=document.querySelector("._time-format").children[1],daylightSavingIcon=document.querySelector("._daylight-saving");function setTime(){let e=moment.utc().utcOffset(`${timeOffset}`);hour=e.hour(),minute=e.minute(),second=e.second(),year=e.year(),month=e.month(),day=e.date(),currentDay=e.day(),"12-hour"==timeFormat&&hour>=13&&(hour-=12);let t=["January","February","March","April","May","June","July","August","September","October","November","December"];hourDiv.innerText=hour,minuteDiv.innerText=minute,secondDiv.innerText=second,monthDayYearDiv.innerText=`${t[month]} ${day}, ${year}`,currentDayDiv.innerText=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][currentDay];let r=second/60,n=(r+minute)/60,o=(n+e.hour())/12;secondHand.style.transform=`rotate(${360*r+90+360*minute}deg)`,minuteHand.style.transform=`rotate(${360*n+90}deg)`,hourHand.style.transform=`rotate(${360*o+90}deg)`,0==hour||-12==hour?hourDiv.innerText="12":hour<10&&(hourDiv.innerText=`0${hour}`),minute<10&&(minuteDiv.innerText=`0${minute}`),second<10&&(secondDiv.innerText=`0${second}`),day<10&&(monthDayYearDiv.innerText=`${t[month]} 0${day}, ${year}`),"12-hour"==timeFormat?(e.hour()>=12?pmAm.innerText="PM":e.hour()>=0&&(pmAm.innerText="AM"),pmAm.style.display="inline"):pmAm.style.display="none"}function setTimezone(e){let t="00",r=selectTimezone.value;selectTimezone.options[selectTimezone.selectedIndex].dataset.dst?daylightSavingIcon.style.opacity=1:daylightSavingIcon.style.opacity=.6,r.includes(".5")?(t="30",r=r.slice(0,r.length-2)):r.includes(".75")&&(t="45",r=r.slice(0,r.length-3)),r>=10?r=`+${r}`:r>=0?r=`+0${r}`:r<=-10?r=`-${r.slice(1)}`:r<0&&(r=`-0${r.slice(1)}`),timeOffset=`${r}:${t}`,document.getElementById("--offset").innerText=`(${timeOffset})`,setTime()}function setFormat(){"12-hour"==this.innerText?(twentyFourHourFormat.classList.remove("selected-format"),twelveHourFormat.classList.add("selected-format"),timeFormat="12-hour",setTime()):"24-hour"==this.innerText&&(twelveHourFormat.classList.remove("selected-format"),twentyFourHourFormat.classList.add("selected-format"),timeFormat="24-hour",setTime())}fetch("./assets/timezones.json").then(e=>e.json()).then(e=>e.forEach(e=>{let t=document.createElement("option");"(UTC) Coordinated Universal Time"==e.text&&(t.selected=!0),e.isdst&&(t.dataset.dst=!0),t.value=e.offset,t.innerText=e.text,selectTimezone.append(t)})).catch(e=>console.log(e)),applyButton.addEventListener("click",setTimezone),twelveHourFormat.addEventListener("click",setFormat),twentyFourHourFormat.addEventListener("click",setFormat),document.addEventListener("DOMContentLoaded",()=>{setTime()}),setInterval(setTime,1e3);